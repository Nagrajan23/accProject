h1 = zeros(3463,1);
h1(1:500) = mag(1:500);

n = pow2(nextpow2(3463));  % transform length

h1FFT = fft(h1);
magFFT2 = fft(mag);

% magFFT3 = magFFT2.*h1FFT;
% magFFT3 = magFFT2-h1FFT;

h1FFT_rho = abs(h1FFT);
h1FFT_theta = angle(h1FFT);

magFFT2_rho = abs(magFFT2);
magFFT2_theta = angle(magFFT2);
% magFFT2_rho = magFFT2_rho - h1FFT_rho;
% magFFT3 = magFFT2_rho .* exp(1i*magFFT2_theta);
% magFFT3 = magFFT2 .* h1FFT;
% magFFT3 = magFFT2;

meanFFT = mean(ma

magFFT3(1) = 0;
plot(ifft(magFFT3))